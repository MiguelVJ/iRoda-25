"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6553],{6553:(T,m,i)=>{i.r(m),i.d(m,{NuevoasuetoPageModule:()=>M});var p=i(6814),d=i(95),s=i(1509),h=i(4090),g=i(5861),v=i(7110),e=i(6689),f=i(7237),C=i(2014);function Z(n,l){if(1&n&&(e.TgZ(0,"ion-select-option",18),e._uU(1),e.qZA()),2&n){const u=l.$implicit;e.Q6J("value",u.idClase),e.xp6(1),e.hij(" ",u.descCorta," ")}}const y=[{path:"",component:(()=>{var n;class l{constructor(o,t,a,r,c,b){this.navCtrl=o,this.alertController=t,this.loadingController=a,this.servicio=r,this.router=c,this.storage=b,this.na={fecha:"",idClase:"",tipo:""},this.submitted=!1}nuevoAsueto(o){this.fecha=this.na.fecha.substring(0,10);let t={fecha:this.fecha,idClase:this.idClase,tipo:this.na.tipo,sociedad:this.sociedad};this.submitted=!0,o.valid?this.servicio.setNasueto(t).subscribe(a=>{this.mensajeErr=a.mensaje,this.mensaje=a.respuesta,console.log(a,"setNasueto Method"),500==a.codigo?this.asuetoExistente():(this.presentLoading(),this.clearForm())}):this.todoslosCampos()}ngOnInit(){this.loadingInicio(),this.storage.get("DatosUsuario").then(o=>{this.usuario=o,this.sociedad=this.usuario.respuesta.sociedad,this.servicio.getData(v.T5+"Clases?sociedad="+this.sociedad).subscribe(t=>{let a=JSON.stringify(t),r=JSON.parse(a);this.codigo=r.codigo,console.log("Codigo del get",this.codigo),200===this.codigo?(console.log(t,"listado de entrenadores"),this.clasesE=t,this.clases=this.clasesE.respuesta):(this.mensaje="Error al crear el asueto",this.errorCrear())})})}loadingInicio(){var o=this;return(0,g.Z)(function*(){const t=yield o.loadingController.create({cssClass:"my-custom-class",spinner:"crescent",message:"Cargando",duration:700});yield t.present(),yield t.onDidDismiss()})()}atras(){this.navCtrl.navigateRoot("/asuetos")}asuetoExistente(){var o=this;return(0,g.Z)(function*(){yield(yield o.alertController.create({cssClass:"my-custom-class",message:o.mensajeErr,buttons:["OK"]})).present()})()}presentLoading(){var o=this;return(0,g.Z)(function*(){const t=yield o.loadingController.create({cssClass:"my-custom-class",spinner:"crescent",message:o.mensaje,duration:1200});yield t.present(),yield t.onDidDismiss(),o.router.navigate(["/asuetos"])})()}todoslosCampos(){var o=this;return(0,g.Z)(function*(){yield(yield o.alertController.create({cssClass:"my-custom-class",header:"Todos los campos son necesarios",buttons:["OK"]})).present()})()}clearForm(){this.na.fecha="",this.na.idClase="",this.na.tipo=""}errorCrear(){var o=this;return(0,g.Z)(function*(){yield(yield o.alertController.create({cssClass:"my-custom-class",header:o.mensaje,buttons:["OK"]})).present()})()}}return(n=l).\u0275fac=function(o){return new(o||n)(e.Y36(s.SH),e.Y36(s.Br),e.Y36(s.HT),e.Y36(f.r),e.Y36(h.F0),e.Y36(C.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-nuevoasueto"]],decls:42,vars:6,consts:[[1,"ion-no-border"],[1,"boton-dorado"],["slot","start"],["defaultHref","","text","",1,"dorado",3,"click"],[1,"contenido",3,"fullscreen"],["novalidate",""],["nAsueto","ngForm"],["size-md","6","size-lg","5","size-xs","12"],["padding",""],["position","stacked",2,"color","gray"],["name","fecha","type","date","required","",3,"ngModel","ngModelChange"],["name","ent",3,"ngModel","required","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","tipo","multiple","false","okText","Aceptar","cancelText","Cancelar","required","",3,"ngModel","ngModelChange"],["value","1"],["value","7"],["value","14"],["type","submit","size","large","expand","block",1,"btndorado",3,"click"],[3,"value"]],template:function(o,t){if(1&o){const a=e.EpF();e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e._uU(3,"Nuevo asueto"),e.qZA(),e.TgZ(4,"ion-buttons",2)(5,"ion-back-button",3),e.NdJ("click",function(){return t.atras()}),e.qZA()()()(),e.TgZ(6,"ion-content",4)(7,"form",5,6)(9,"ion-grid")(10,"ion-row")(11,"ion-col",7)(12,"div",8),e._UZ(13,"br")(14,"br"),e.TgZ(15,"ion-item")(16,"ion-label",9),e._uU(17,"Fecha"),e.qZA(),e.TgZ(18,"ion-input",10),e.NdJ("ngModelChange",function(c){return t.na.fecha=c}),e.qZA()(),e._UZ(19,"br"),e.TgZ(20,"ion-item")(21,"ion-label",9),e._uU(22,"Clase"),e.qZA(),e.TgZ(23,"ion-select",11),e.NdJ("ngModelChange",function(c){return t.idClase=c}),e.YNc(24,Z,2,2,"ion-select-option",12),e.qZA()(),e._UZ(25,"br"),e.TgZ(26,"ion-item")(27,"ion-label",9),e._uU(28,"Tipo"),e.qZA(),e.TgZ(29,"ion-select",13),e.NdJ("ngModelChange",function(c){return t.na.tipo=c}),e.TgZ(30,"ion-select-option",14),e._uU(31,"Diario"),e.qZA(),e.TgZ(32,"ion-select-option",15),e._uU(33,"Semanal"),e.qZA(),e.TgZ(34,"ion-select-option",16),e._uU(35,"Qincenal"),e.qZA()()()(),e._UZ(36,"br"),e.TgZ(37,"div")(38,"ion-row")(39,"ion-col")(40,"ion-button",17),e.NdJ("click",function(){e.CHM(a);const c=e.MAs(8);return e.KtG(t.nuevoAsueto(c))}),e._uU(41," Agregar "),e.qZA()()()()()()()()()}2&o&&(e.xp6(6),e.Q6J("fullscreen",!0),e.xp6(12),e.Q6J("ngModel",t.na.fecha),e.xp6(5),e.Q6J("ngModel",t.idClase)("required",!0),e.xp6(1),e.Q6J("ngForOf",t.clases),e.xp6(5),e.Q6J("ngModel",t.na.tipo))},dependencies:[p.sg,d._Y,d.JJ,d.JL,d.Q7,d.On,d.F,s.oU,s.YG,s.Sm,s.wI,s.W2,s.jY,s.Gu,s.pK,s.Ie,s.Q$,s.Nd,s.t9,s.n0,s.wd,s.sr,s.QI,s.j9,s.cs],styles:["ion-content[_ngcontent-%COMP%]{--overflow: hidden}ion-col[_ngcontent-%COMP%]{display:block;margin:auto}ion-title[_ngcontent-%COMP%]{text-align:center;color:#efb810}ion-img[_ngcontent-%COMP%]{width:15%;display:block;margin:auto}"]}),l})()}];let N=(()=>{var n;class l{}return(n=l).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[h.Bz.forChild(y),h.Bz]}),l})(),M=(()=>{var n;class l{}return(n=l).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[p.ez,d.u5,s.Pc,N]}),l})()}}]);