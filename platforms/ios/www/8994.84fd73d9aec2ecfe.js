"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8994],{8994:(k,p,r)=>{r.r(p),r.d(p,{UserPageModule:()=>A});var h=r(6814),d=r(95),t=r(1509),m=r(4090),g=r(5861),u=r(7110),e=r(6689),b=r(2014),_=r(7237);function v(s,a){1&s&&e._UZ(0,"ion-icon",29)}function Z(s,a){1&s&&e._UZ(0,"ion-icon",30)}function x(s,a){if(1&s&&(e.TgZ(0,"div"),e._UZ(1,"ion-img",31),e.qZA()),2&s){const n=e.oxw();e.xp6(1),e.MGl("src","assets/img/",n.avatarh,"")}}function C(s,a){if(1&s&&(e.TgZ(0,"div"),e._UZ(1,"ion-img",31),e.qZA()),2&s){const n=e.oxw();e.xp6(1),e.MGl("src","assets/img/",n.avatarm,"")}}function T(s,a){if(1&s&&(e.TgZ(0,"div",32)(1,"label",33),e._uU(2),e.qZA()()),2&s){const n=e.oxw();e.xp6(2),e.Oqu(n.membresia)}}function M(s,a){if(1&s&&(e.TgZ(0,"label",34),e._uU(1),e.qZA()),2&s){const n=e.oxw();e.xp6(1),e.Oqu(n.mensajeM)}}function y(s,a){if(1&s&&(e.TgZ(0,"label",35),e._uU(1),e.qZA()),2&s){const n=e.oxw();e.xp6(1),e.Oqu(n.mensajeM)}}const P=[{path:"",component:(()=>{var s;class a{constructor(i,o,l,c,N,q,J){this.storage=i,this.navParams=o,this.navCtrl=l,this.servicio=c,this.alertController=N,this.loadingController=q,this.activatedRoute=J,this.compania=u.if,this.avatarh=u.hB,this.avatarm=u.bf,this.eu={idUsuario:"",telefono:"",correoElectronico:"",fechaNacimiento:""},this.usuario=this.navParams.get(this.usuario),this.storage.get("DatosUsuario").then(f=>{this.usuario=f,console.log("user :",f),console.log("El usuario en USER es :",this.usuario.respuesta.nombre),console.log("El ID del usuario es  :",this.usuario.respuesta.idUsuario),console.log("El Rol del usuario es : ",this.usuario.respuesta.idRol),console.log("El estatus del usuario es:",this.usuario.respuesta.estatus),this.numeroUsuario=this.usuario.respuesta.idUsuario,this.servicio.getData(u.T5+"Usuarios/id_usuario/"+this.numeroUsuario).subscribe(U=>{console.log(U,"informacion del perfil seleccionado"),this.listado=U,this.respuestaUser=this.listado.respuesta[0],this.email=this.respuestaUser.correoElectronico,this.telefono=this.respuestaUser.telefono,this.membresia=this.respuestaUser.membresiaDesc,this.sexo=this.respuestaUser.sexo,this.nombre=this.respuestaUser.nombre,this.user=this.respuestaUser.usuario,this.fechaNacimiento=this.respuestaUser.fechaNacimiento,this.multas=this.usuario.respuesta.totalMultas,this.faltas=this.usuario.respuesta.contadorFaltas,0!=this.multas||0!=this.faltas?(this.mensajeM="Cuentas con "+this.multas+" multas y "+this.faltas+" faltas",this.confaltas=!0,this.sinfaltas=!1):(this.mensajeM="No tienes multas ni faltas",this.confaltas=!1,this.sinfaltas=!0)}),this.bloqueado(this.numeroUsuario)})}verAsistencias(){this.navCtrl.navigateRoot("/asistenciasusuario")}editarUser(){this.servicio.editarUser({idUsuario:this.numeroUsuario,telefono:this.telefono,correoElectronico:this.email,fechaNacimiento:this.fechaNacimiento}).subscribe(o=>{this.mensaje=o.respuesta,200===o.codigo?(this.actualizado(),this.navCtrl.navigateRoot("/admin")):this.actualizado()})}actualizado(){var i=this;return(0,g.Z)(function*(){yield(yield i.alertController.create({cssClass:"my-custom-class",header:i.mensaje,buttons:["OK"]})).present()})()}todoslosCampos(){var i=this;return(0,g.Z)(function*(){yield(yield i.alertController.create({cssClass:"my-custom-class",header:"Todos los campos son necesarios",buttons:["OK"]})).present()})()}ngOnInit(){this.userLoading()}atras(){this.navCtrl.navigateRoot("/admin")}cambiarpass(){this.navCtrl.navigateRoot("/cambiarpass")}userLoading(){var i=this;return(0,g.Z)(function*(){const o=yield i.loadingController.create({cssClass:"my-custom-class",spinner:"crescent",message:"Cargando",duration:700});yield o.present(),yield o.onDidDismiss()})()}bloqueado(i){this.servicio.getData(u.T5+"Usuarios/bloqueo-por-pago/"+i).subscribe(o=>{this.usuario=o,console.log(o),500===this.usuario.codigo&&(this.storage.clear(),this.navCtrl.navigateRoot("/login"),this.msjBloqueado(this.usuario.descripcion))})}msjBloqueado(i){var o=this;return(0,g.Z)(function*(){yield(yield o.alertController.create({cssClass:"my-custom-class",header:i,buttons:["OK"]})).present()})()}}return(s=a).\u0275fac=function(i){return new(i||s)(e.Y36(b.K),e.Y36(t.X1),e.Y36(t.SH),e.Y36(_.r),e.Y36(t.Br),e.Y36(t.HT),e.Y36(m.gz))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-user"]],decls:55,vars:13,consts:[[1,"ion-no-border"],[1,"dorado"],["slot","end"],[3,"click"],["class","dorado","slot","icon-only","name","lock-open-outline",4,"ngIf"],["class","dorado","slot","icon-only","name","keyreset",4,"ngIf"],["slot","start"],["defaultHref","","text","",1,"dorado",3,"click"],[1,"contenido",3,"fullscreen"],[1,"animated","slow","fadeInLeft"],["size-md","6","size-lg","5","size-xs","12","size","16"],[4,"ngIf"],[2,"text-align","center","margin-top","5px"],[1,"misasis",2,"font-size","12px",3,"click"],["size","8",1,"user-info-wrapper"],[1,"user-name"],["size","12px"],["class","anuncio",4,"ngIf"],[1,"container-membresia"],["class","multas","style","font-size: 12px;",4,"ngIf"],["class","sin-multas","style","font-size: 12px;",4,"ngIf"],["size-md","6","size-lg","5","size-xs","12",1,"acomodar"],["padding",""],["position","stacked",2,"color","gray"],["type","text","disabled","",3,"placeholder"],["name","telefono","type","tel","required","",3,"ngModel","ngModelChange"],["name","correoElectronico","type","text","required","",3,"ngModel","ngModelChange"],["name","fechaNacimiento","type","date","required","",3,"ngModel","ngModelChange"],["size","large","expand","block",1,"btndorado",3,"click"],["slot","icon-only","name","lock-open-outline",1,"dorado"],["slot","icon-only","name","keyreset",1,"dorado"],[3,"src"],[1,"anuncio"],[2,"font-size","12px"],[1,"multas",2,"font-size","12px"],[1,"sin-multas",2,"font-size","12px"]],template:function(i,o){1&i&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e._uU(3,"Mi Perfil"),e.qZA(),e.TgZ(4,"ion-buttons",2)(5,"ion-button",3),e.NdJ("click",function(){return o.cambiarpass()}),e.YNc(6,v,1,0,"ion-icon",4),e.YNc(7,Z,1,0,"ion-icon",5),e.qZA()(),e.TgZ(8,"ion-buttons",6)(9,"ion-back-button",7),e.NdJ("click",function(){return o.atras()}),e.qZA()()()(),e.TgZ(10,"ion-content",8),e._UZ(11,"br"),e.TgZ(12,"ion-grid",9)(13,"ion-row")(14,"ion-col",10)(15,"ion-col"),e.YNc(16,x,2,1,"div",11),e.YNc(17,C,2,1,"div",11),e.qZA(),e.TgZ(18,"div",12)(19,"label",13),e.NdJ("click",function(){return o.verAsistencias()}),e._uU(20,"Ver mis asistencias"),e.qZA()(),e._UZ(21,"br"),e.TgZ(22,"ion-col",14)(23,"h3",15),e._uU(24),e.qZA()(),e.TgZ(25,"ion-col",16),e.YNc(26,T,3,1,"div",17),e.TgZ(27,"div",18),e.YNc(28,M,2,1,"label",19),e.YNc(29,y,2,1,"label",20),e.qZA()()()(),e.TgZ(30,"ion-row")(31,"ion-col",21)(32,"div",22)(33,"ion-item")(34,"ion-label",23),e._uU(35,"Usuario"),e.qZA(),e._UZ(36,"ion-input",24),e.qZA(),e.TgZ(37,"ion-item")(38,"ion-label",23),e._uU(39,"Telefono"),e.qZA(),e.TgZ(40,"ion-input",25),e.NdJ("ngModelChange",function(c){return o.telefono=c}),e.qZA()(),e.TgZ(41,"ion-item")(42,"ion-label",23),e._uU(43,"Correo electr\xf3nico"),e.qZA(),e.TgZ(44,"ion-input",26),e.NdJ("ngModelChange",function(c){return o.email=c}),e.qZA()(),e.TgZ(45,"ion-item")(46,"ion-label",23),e._uU(47,"Fecha de nacimiento"),e.qZA(),e.TgZ(48,"ion-input",27),e.NdJ("ngModelChange",function(c){return o.fechaNacimiento=c}),e.qZA()()(),e._UZ(49,"br"),e.TgZ(50,"div")(51,"ion-row")(52,"ion-col")(53,"ion-button",28),e.NdJ("click",function(){return o.editarUser()}),e._uU(54,"Editar "),e.qZA()()()()()()()()),2&i&&(e.xp6(6),e.Q6J("ngIf","iroda"===o.compania),e.xp6(1),e.Q6J("ngIf","lua"===o.compania),e.xp6(3),e.Q6J("fullscreen",!0),e.xp6(6),e.Q6J("ngIf","M"===o.sexo),e.xp6(1),e.Q6J("ngIf","F"===o.sexo),e.xp6(7),e.hij(" ",o.nombre," "),e.xp6(2),e.Q6J("ngIf",void 0!==o.membresia),e.xp6(2),e.Q6J("ngIf",!0===o.confaltas&&void 0!==o.membresia),e.xp6(1),e.Q6J("ngIf",!0===o.sinfaltas&&void 0!==o.membresia),e.xp6(7),e.s9C("placeholder",o.user),e.xp6(4),e.Q6J("ngModel",o.telefono),e.xp6(4),e.Q6J("ngModel",o.email),e.xp6(4),e.Q6J("ngModel",o.fechaNacimiento))},dependencies:[h.O5,d.JJ,d.Q7,d.On,t.oU,t.YG,t.Sm,t.wI,t.W2,t.jY,t.Gu,t.gu,t.Xz,t.pK,t.Ie,t.Q$,t.Nd,t.wd,t.sr,t.j9,t.cs],styles:["ion-col[_ngcontent-%COMP%]{display:block;margin:auto}ion-img[_ngcontent-%COMP%]{width:35%;display:block;margin:auto}.user-info-wrapper[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{display:block;margin:auto;text-align:center}.texto[_ngcontent-%COMP%]{font-size:16px}.multas[_ngcontent-%COMP%]{background-color:#eea6a6;padding:2px 15px;color:#cb2e2e;border-radius:10px;font-size:8px}.misasis[_ngcontent-%COMP%]{background-color:#becbf6;padding:2px 15px;color:#5371e0;border-radius:10px;font-size:8px}.sin-multas[_ngcontent-%COMP%]{background-color:#e6e6e6;padding:2px 15px;color:#343437;border-radius:10px;font-size:8px}.container-membresia[_ngcontent-%COMP%]{text-align:center!important;margin-top:5px!important;display:flex;flex-direction:column;align-items:center}"]}),a})()}];let z=(()=>{var s;class a{}return(s=a).\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[m.Bz.forChild(P),m.Bz]}),a})(),A=(()=>{var s;class a{}return(s=a).\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[h.ez,d.u5,t.Pc,z]}),a})()}}]);