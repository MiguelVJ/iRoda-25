"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4015],{4015:(R,f,r)=>{r.r(f),r.d(f,{HorariosPageModule:()=>j});var d=r(6814),p=r(95),a=r(1509),h=r(4090),l=r(5861),u=r(7110),e=r(6689),b=r(7237),_=r(2014);function Z(o,n){1&o&&(e.TgZ(0,"ion-list",5),e._UZ(1,"br"),e.TgZ(2,"label",11),e._uU(3," Sin clases"),e.qZA()())}function x(o,n){1&o&&(e.TgZ(0,"ion-item",13)(1,"ion-card",14)(2,"ion-grid")(3,"ion-label")(4,"h2"),e._UZ(5,"ion-skeleton-text",15),e.qZA(),e._UZ(6,"br"),e.TgZ(7,"h2"),e._UZ(8,"ion-skeleton-text",16),e.qZA(),e._UZ(9,"br"),e.TgZ(10,"p"),e._UZ(11,"ion-skeleton-text",15),e.qZA(),e.TgZ(12,"p"),e._UZ(13,"ion-skeleton-text",17),e.qZA()()()()())}const C=function(){return[1,1,1,1,1,1,1]};function v(o,n){1&o&&(e.TgZ(0,"ion-list"),e.YNc(1,x,14,0,"ion-item",12),e.qZA()),2&o&&(e.xp6(1),e.Q6J("ngForOf",e.DdM(1,C)))}function P(o,n){1&o&&e._UZ(0,"img",28)}function y(o,n){1&o&&e._UZ(0,"img",29)}function T(o,n){1&o&&(e.TgZ(0,"label",30),e._uU(1,"ASISTIRAS"),e.qZA())}function O(o,n){1&o&&(e.TgZ(0,"ion-col"),e._UZ(1,"img",31),e.qZA())}function A(o,n){if(1&o&&(e.TgZ(0,"label",32),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.lugaresDisponibles)}}function U(o,n){if(1&o&&(e.TgZ(0,"label",33),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.lugaresDisponibles)}}function H(o,n){if(1&o&&(e.TgZ(0,"label",34),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.lugaresDisponibles)}}function M(o,n){if(1&o&&(e.TgZ(0,"ion-item",18)(1,"ion-card",14)(2,"ion-grid")(3,"ion-row")(4,"ion-col"),e.YNc(5,P,1,0,"img",19),e.YNc(6,y,1,0,"img",20),e.TgZ(7,"label",21),e._uU(8),e.qZA(),e.YNc(9,T,2,0,"label",22),e.qZA()(),e.TgZ(10,"ion-row")(11,"ion-col")(12,"label",23),e._uU(13),e.qZA()(),e.YNc(14,O,2,0,"ion-col",8),e.qZA(),e.TgZ(15,"ion-row")(16,"ion-col")(17,"label",24),e._uU(18),e.qZA()()(),e.TgZ(19,"ion-row")(20,"ion-col")(21,"label",23),e._uU(22," Lugares "),e.qZA(),e.YNc(23,A,2,1,"label",25),e.YNc(24,U,2,1,"label",26),e.YNc(25,H,2,1,"label",27),e.qZA()()()()()),2&o){const t=n.$implicit,s=e.oxw();e.bRH("href","lugares/",s.fechaf,"/",t.descripcionHorario,"/",t.idClase,"/",t.asistencia,"/",t.lugar,"/",t.claseLlena,"/",t.isListaEspera,""),e.xp6(5),e.Q6J("ngIf","V"==t.horario),e.xp6(1),e.Q6J("ngIf","M"==t.horario),e.xp6(2),e.hij(" ",t.descripcionHorario," "),e.xp6(1),e.Q6J("ngIf","true"==t.asistencia),e.xp6(4),e.hij(" ",t.nombre," "),e.xp6(1),e.Q6J("ngIf",2!==s.idrol),e.xp6(4),e.hij(" Coach ",t.profesorNombre," "),e.xp6(5),e.Q6J("ngIf",t.lugaresDisponibles.startsWith("0")),e.xp6(1),e.Q6J("ngIf",!t.lugaresDisponibles.startsWith("0")&&"CLASE LLENA"!=t.lugaresDisponibles),e.xp6(1),e.Q6J("ngIf","CLASE LLENA"==t.lugaresDisponibles)}}const w=[{path:"",component:(()=>{var o;class n{constructor(s,i,g,c,q,z,D){this.servicio=s,this.activatedRoute=i,this.storage=g,this.navParams=c,this.alertController=q,this.loadingController=z,this.navCtrl=D,this.usuario=this.navParams.get(this.usuario),this.storage.get("DatosUsuario").then(N=>{this.usuario=N,this.idrol=this.usuario.respuesta.idRol,console.log("El rol del usuario logeado:"+this.idrol),console.log("El usuario en HORARIO es :",this.usuario.respuesta.nombre),console.log("Y su Rol es :",this.usuario.respuesta.idRol),console.log("El ID del usuario es  :",this.usuario.respuesta.idUsuario),this.numeroUsuario=this.usuario.respuesta.idUsuario,this.fechaf=this.activatedRoute.snapshot.paramMap.get("fechaf"),this.servicio.getData(u.T5+"Clases/por-fecha/"+this.fechaf+"/"+this.numeroUsuario).subscribe(m=>{console.log(m,"listado de clases");let Y=JSON.stringify(m),J=JSON.parse(Y);this.codigo=J.codigo,console.log("Codigo del get",this.codigo),200===this.codigo||(this.errorQuitar(),this.navCtrl.navigateRoot("/calalumno")),this.listado=m,console.log(this.fechaf,"fecha del constructor")}),this.bloqueado(this.numeroUsuario)})}ionViewWillEnter(){this.fechaf=this.activatedRoute.snapshot.paramMap.get("fechaf"),console.log(this.fechaf,"fecha del calendario")}ngOnInit(){}obtenerDatos(){this.servicio.getData(u.T5+"Clases/por-fecha/"+this.fechaf+"/"+this.numeroUsuario).subscribe(s=>{console.log(s,"listado de clases"),this.listado=s})}marcarAsistencia(s){this.fechaf=this.activatedRoute.snapshot.paramMap.get("fechaf"),this.servicio.getData(u.T5+"Clases/esta-en-clase/"+s+"/"+this.numeroUsuario+"/"+this.fechaf).subscribe(i=>{let g=JSON.stringify(i),c=JSON.parse(g);this.mensaje=c.respuesta.mensaje,this.mensajeerror=c.respuesta.descripcion,200===c.codigo?(console.log("Mensaje : ",this.mensaje),this.estatus=c.respuesta.estatus,console.log("Estatus del asistente",this.estatus)):this.validacion()})}quitarAsistencia(s){console.log("fecha f:"+this.fechaf),this.servicio.eliminarAlumno(this.numeroUsuario,s,this.fechaf).subscribe(i=>{console.log(i,"Asistencia eliminada"),this.mensaje=i.respuesta,this.mensajeerror=i.descripcion,200===i.codigo?(this.eliminarAsistencia(),console.log("Fecha seleccionada",this.fechaf),this.obtenerDatos()):500===i.codigo&&(console.log("Erro 500"),this.errorQuitar())})}agregadoAlert(){var s=this;return(0,l.Z)(function*(){yield(yield s.alertController.create({cssClass:"my-custom-class",message:s.mensaje,buttons:["OK"]})).present()})()}errorQuitar(){var s=this;return(0,l.Z)(function*(){yield(yield s.alertController.create({cssClass:"my-custom-class",message:s.mensajeerror,buttons:["OK"]})).present()})()}usuarioEnclase(){var s=this;return(0,l.Z)(function*(){yield(yield s.alertController.create({cssClass:"my-custom-class",message:s.mensajeerror,buttons:["OK"]})).present()})()}eliminarAsistencia(){var s=this;return(0,l.Z)(function*(){yield(yield s.alertController.create({cssClass:"my-custom-class",message:s.mensaje,buttons:["OK"]})).present()})()}horariosLoading(){var s=this;return(0,l.Z)(function*(){const i=yield s.loadingController.create({cssClass:"my-custom-class",spinner:"crescent",message:"Cargando clases",duration:5e3});yield i.present(),yield i.onDidDismiss()})()}validacion(){var s=this;return(0,l.Z)(function*(){yield(yield s.alertController.create({cssClass:"my-custom-class",message:s.mensajeerror,buttons:["OK"]})).present()})()}atras(){this.navCtrl.navigateRoot("/calalumno")}quitLoading(){this.loadingController.dismiss()}bloqueado(s){this.servicio.getData(u.T5+"Usuarios/bloqueo-por-pago/"+s).subscribe(i=>{this.usuario=i,console.log(i),500===this.usuario.codigo&&(this.storage.clear(),this.navCtrl.navigateRoot("/login"),this.msjBloqueado(this.usuario.descripcion))})}msjBloqueado(s){var i=this;return(0,l.Z)(function*(){yield(yield i.alertController.create({cssClass:"my-custom-class",header:s,buttons:["OK"]})).present()})()}}return(o=n).\u0275fac=function(s){return new(s||o)(e.Y36(b.r),e.Y36(h.gz),e.Y36(_.K),e.Y36(a.X1),e.Y36(a.Br),e.Y36(a.HT),e.Y36(a.SH))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-horarios"]],decls:14,vars:5,consts:[[1,"ion-no-border"],[1,"dorado"],["slot","start"],["defaultHref","","text","",1,"dorado",3,"click"],[3,"fullscreen"],[2,"text-align","center"],[1,"label-g1"],["style","text-align: center;",4,"ngIf"],[4,"ngIf"],[1,"animated","fast","fadeInDown"],["class","animated fast fadeInDown","lines","none","color","gray","detail","false","class","ion-no-padding",3,"href",4,"ngFor","ngForOf"],[1,"sinClases"],["id","listaslide","size","12","size-lg","3","size-md","4","size-sm","6",4,"ngFor","ngForOf"],["id","listaslide","size","12","size-lg","3","size-md","4","size-sm","6"],[2,"padding","3px"],["animated","",2,"width","30%"],["animated","",2,"width","25%"],["animated","",2,"width","35%"],["lines","none","color","gray","detail","false",1,"ion-no-padding",3,"href"],["class","imghorario","src","assets/img/moon.png",4,"ngIf"],["class","imghorario","src","assets/img/sun.png",4,"ngIf"],[2,"font-size","13px","font-weight","bold"],["class","label-asistencia",4,"ngIf"],[2,"color","rgb(174, 171, 171)","font-size","13px"],[1,"color-coach",2,"font-size","13px"],["class","label-membresiavenc",4,"ngIf"],["class","label-conlugares",4,"ngIf"],["class","label-clasellena",4,"ngIf"],["src","assets/img/moon.png",1,"imghorario"],["src","assets/img/sun.png",1,"imghorario"],[1,"label-asistencia"],["src","assets/img/arrow-right.png",1,"imgarrow"],[1,"label-membresiavenc"],[1,"label-conlugares"],[1,"label-clasellena"]],template:function(s,i){1&s&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),e._uU(3,"Clases"),e.qZA(),e.TgZ(4,"ion-buttons",2)(5,"ion-back-button",3),e.NdJ("click",function(){return i.atras()}),e.qZA()()()(),e.TgZ(6,"ion-content",4)(7,"div",5)(8,"label",6),e._uU(9),e.qZA()(),e.YNc(10,Z,4,0,"ion-list",7),e.YNc(11,v,2,2,"ion-list",8),e.TgZ(12,"ion-list",9),e.YNc(13,M,26,17,"ion-item",10),e.qZA()()),2&s&&(e.xp6(6),e.Q6J("fullscreen",!0),e.xp6(3),e.Oqu(i.fechaf),e.xp6(1),e.Q6J("ngIf",""==(null==i.listado?null:i.listado.respuesta)),e.xp6(1),e.Q6J("ngIf",null===(null==i.listado?null:i.listado.respuesta)),e.xp6(2),e.Q6J("ngForOf",null==i.listado?null:i.listado.respuesta))},dependencies:[d.sg,d.O5,a.oU,a.Sm,a.PM,a.wI,a.W2,a.jY,a.Gu,a.Ie,a.Q$,a.q_,a.Nd,a.CK,a.wd,a.sr,a.cs],styles:["span.green[_ngcontent-%COMP%]{background:#5ea226;border-radius:.8em;-moz-border-radius:.8em;-webkit-border-radius:.8em;color:#fff;display:inline-block;font-weight:700;line-height:1.6em;margin-right:15px;text-align:center;width:1.6em}ion-badge[_ngcontent-%COMP%]{font-size:15px;align-items:center}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:100%;margin:10px}ion-item[_ngcontent-%COMP%]{--padding-start: 0}span.red[_ngcontent-%COMP%]{background:#f5d033;border-radius:.8em;-moz-border-radius:.8em;-webkit-border-radius:.8em;color:#fff;display:inline-block;font-weight:700;line-height:1.6em;margin-right:15px;text-align:center;width:1.6em}ion-loading[_ngcontent-%COMP%]{color:green}.my-custom-class[_ngcontent-%COMP%]{color:green}.my-custom-class[_ngcontent-%COMP%]{--background: #222;--spinner-color: #fff;color:#fff}ion-img[_ngcontent-%COMP%]{width:85%;display:block;margin:auto}.centrar[_ngcontent-%COMP%]{width:30%;display:block;margin:auto}.label-membresiavenc[_ngcontent-%COMP%]{background-color:#ded8f0;padding:2px 10px;color:#4b2ca6;border-radius:15px;font-size:12px;font-weight:700}.label-conlugares[_ngcontent-%COMP%]{background-color:#cfe7ee;padding:2px 10px;color:#187e9a;border-radius:15px;font-size:12px;font-weight:700}.label-clasellena[_ngcontent-%COMP%]{background-color:#fad0d7;padding:2px 10px;color:#e96479;border-radius:15px;font-size:12px;font-weight:700}.label-asistencia[_ngcontent-%COMP%]{background-color:#ffe7be;padding:2px 10px;color:#ca9716;border-radius:15px;font-size:10px;font-weight:700}.imghorario[_ngcontent-%COMP%]{clear:right;width:5%}.sinClases[_ngcontent-%COMP%]{color:gray}"]}),n})()}];let I=(()=>{var o;class n{}return(o=n).\u0275fac=function(s){return new(s||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.Bz.forChild(w),h.Bz]}),n})(),j=(()=>{var o;class n{}return(o=n).\u0275fac=function(s){return new(s||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,p.u5,a.Pc,I]}),n})()}}]);