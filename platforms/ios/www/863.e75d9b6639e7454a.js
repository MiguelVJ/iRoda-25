"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[863],{299:(J,h,c)=>{c.r(h),c.d(h,{PaquetesPageModule:()=>Z});var m=c(6814),g=c(95),t=c(1509),d=c(4090),p=c(5861),P=c(7110),e=c(6689),v=c(7237),_=c(2014);function q(i,r){if(1&i&&(e.TgZ(0,"ion-select-option",16),e._uU(1),e.qZA()),2&i){const l=r.$implicit;e.s9C("value",l.id),e.xp6(1),e.hij(" ",l.descripcion," ")}}function C(i,r){if(1&i&&(e.TgZ(0,"ion-select-option",16),e._uU(1),e.qZA()),2&i){const l=r.$implicit;e.s9C("value",l.id),e.xp6(1),e.hij(" ",l.tipo_inscripcion," ")}}const T=[{path:"",component:(()=>{var i;class r{ionViewWillEnter(){this.idUsuario=this.activatedRoute.snapshot.paramMap.get("idUsuario"),this.sociedad=this.activatedRoute.snapshot.paramMap.get("sociedad"),console.log("idUsaurio para nuevo paquete",this.idUsuario),console.log("Sociedad para nuevo paquete",this.sociedad)}constructor(s,o,a,n,u,b,U,y){this.navCtrl=s,this.servicio=o,this.loadingController=a,this.router=n,this.activatedRoute=u,this.alertController=b,this.navParams=U,this.storage=y,this.np={idUsuario:"",tipoPago:"",tipoInscripcion:"",fecha:"",comentario:"",sociedad:""},this.submitted=!1,this.usuario=this.navParams.get(this.usuario),this.storage.get("DatosUsuario").then(f=>{this.usuario=f,console.log("Datos del usuario en editarperfil:",this.usuario),this.idUser=f.respuesta.idUsuario,console.log(this.idUser,"Id del usuario en paquetes")})}nuevoPaquete(s){this.fecha=this.np.fecha.substring(0,10);let o={idUsuario:this.idUsuario,tipoPago:this.tipoPago,tipoInscripcion:this.tipoIns,fechaInicio:this.fecha,comentario:this.np.comentario,sociedad:this.sociedad};this.submitted=!0,s.valid?this.servicio.setPaquete(o,this.fecha,this.idUser).subscribe(a=>{this.mensajeErr=a.mensaje,this.mensaje=a.respuesta,console.log(a,"setPaquete Method"),500==a.codigo?this.asuetoExistente():(this.presentLoading(),this.clearForm())}):this.todoslosCampos()}asuetoExistente(){var s=this;return(0,p.Z)(function*(){yield(yield s.alertController.create({cssClass:"my-custom-class",message:s.mensajeErr,buttons:["OK"]})).present()})()}presentLoading(){var s=this;return(0,p.Z)(function*(){const o=yield s.loadingController.create({cssClass:"my-custom-class",spinner:"crescent",message:s.mensaje,duration:1200});yield o.present(),yield o.onDidDismiss(),s.router.navigate(["/perfil"])})()}todoslosCampos(){var s=this;return(0,p.Z)(function*(){yield(yield s.alertController.create({cssClass:"my-custom-class",header:"Todos los campos son necesarios",buttons:["OK"]})).present()})()}clearForm(){this.np.fecha="",this.np.tipoPago="",this.np.tipoInscripcion="",this.np.comentario=""}menuPerfil(){this.navCtrl.navigateRoot("/perfil")}back(){this.navCtrl.back()}optionsIns(){console.log("tipo de inscripcion"+this.tipoIns)}optionsPago(){console.log("Tipo de Pago "+this.tipoPago)}ngOnInit(){this.storage.get("DatosUsuario").then(s=>{this.usuarioData=s,this.sociedad=this.usuarioData.respuesta.sociedad,this.servicio.getData(P.T5+"Inscripciones/tipos-inscripcion?sociedad="+this.sociedad).subscribe(o=>{let a=JSON.stringify(o),n=JSON.parse(a);this.codigo=n.codigo,200===this.codigo&&(console.log(o,"listado de tipo de inscripciones"),this.inscripcionesE=o,this.inscripciones=this.inscripcionesE.respuesta)}),this.servicio.getData(P.T5+"Inscripciones/tipos-pago?sociedad="+this.sociedad).subscribe(o=>{let a=JSON.stringify(o),n=JSON.parse(a);this.codigo=n.codigo,200===this.codigo&&(console.log(o,"listado de tipo de pago"),this.pagoE=o,this.pago=this.pagoE.respuesta)})})}}return(i=r).\u0275fac=function(s){return new(s||i)(e.Y36(t.SH),e.Y36(v.r),e.Y36(t.HT),e.Y36(d.F0),e.Y36(d.gz),e.Y36(t.Br),e.Y36(t.X1),e.Y36(_.K))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-paquetes"]],decls:40,vars:7,consts:[[1,"ion-no-border"],["slot","start"],["defaultHref","","text","",1,"dorado",3,"click"],[1,"contenido",3,"fullscreen"],["novalidate",""],["nPago","ngForm"],["size-md","6","size-lg","5","size-xs","12"],["padding",""],["position","stacked",2,"color","gray"],["name","tipoPago","multiple","false","okText","Aceptar","cancelText","Cancelar","required","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[2,"margin-top","10px"],["name","tipoInscripcion","multiple","false","okText","Aceptar","cancelText","Cancelar","required","",3,"ngModel","ngModelChange"],["name","fecha","type","date","required","",3,"ngModel","ngModelChange"],["type","text","name","comentario","required","",3,"ngModel","ngModelChange"],["type","submit","size","large","expand","block",1,"btndorado",3,"click"],[3,"value"]],template:function(s,o){if(1&s){const a=e.EpF();e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Nuevo paquete"),e.qZA(),e.TgZ(4,"ion-buttons",1)(5,"ion-back-button",2),e.NdJ("click",function(){return o.back()}),e.qZA()()()(),e.TgZ(6,"ion-content",3)(7,"form",4,5)(9,"ion-grid")(10,"ion-row")(11,"ion-col",6)(12,"div",7),e._UZ(13,"br")(14,"br"),e.TgZ(15,"ion-item")(16,"ion-label",8),e._uU(17,"Tipo de Pago"),e.qZA(),e.TgZ(18,"ion-select",9),e.NdJ("ngModelChange",function(u){return o.tipoPago=u})("ngModelChange",function(){return o.optionsPago()}),e.YNc(19,q,2,2,"ion-select-option",10),e.qZA()(),e.TgZ(20,"ion-item",11)(21,"ion-label",8),e._uU(22,"Tipo de Inscripcion"),e.qZA(),e.TgZ(23,"ion-select",12),e.NdJ("ngModelChange",function(u){return o.tipoIns=u})("ngModelChange",function(){return o.optionsIns()}),e.YNc(24,C,2,2,"ion-select-option",10),e.qZA()(),e.TgZ(25,"ion-item",11)(26,"ion-label",8),e._uU(27,"Fecha de inicio"),e.qZA(),e.TgZ(28,"ion-input",13),e.NdJ("ngModelChange",function(u){return o.np.fecha=u}),e.qZA()(),e._UZ(29,"br"),e.TgZ(30,"ion-item")(31,"ion-label",8),e._uU(32,"Cometarios"),e.qZA(),e.TgZ(33,"ion-input",14),e.NdJ("ngModelChange",function(u){return o.np.comentario=u}),e.qZA()()(),e._UZ(34,"br"),e.TgZ(35,"div")(36,"ion-row")(37,"ion-col")(38,"ion-button",15),e.NdJ("click",function(){e.CHM(a);const u=e.MAs(8);return e.KtG(o.nuevoPaquete(u))}),e._uU(39," Agregar "),e.qZA()()()()()()()()()}2&s&&(e.xp6(6),e.Q6J("fullscreen",!0),e.xp6(12),e.Q6J("ngModel",o.tipoPago),e.xp6(1),e.Q6J("ngForOf",o.pago),e.xp6(4),e.Q6J("ngModel",o.tipoIns),e.xp6(1),e.Q6J("ngForOf",o.inscripciones),e.xp6(4),e.Q6J("ngModel",o.np.fecha),e.xp6(5),e.Q6J("ngModel",o.np.comentario))},dependencies:[m.sg,g._Y,g.JJ,g.JL,g.Q7,g.On,g.F,t.oU,t.YG,t.Sm,t.wI,t.W2,t.jY,t.Gu,t.pK,t.Ie,t.Q$,t.Nd,t.t9,t.n0,t.wd,t.sr,t.QI,t.j9,t.cs]}),r})()}];let M=(()=>{var i;class r{}return(i=r).\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.Bz.forChild(T),d.Bz]}),r})(),Z=(()=>{var i;class r{}return(i=r).\u0275fac=function(s){return new(s||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[m.ez,g.u5,t.Pc,M]}),r})()}}]);