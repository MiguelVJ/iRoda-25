"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8168],{8168:(A,m,a)=>{a.r(m),a.d(m,{RegistroPageModule:()=>v});var p=a(6814),g=a(95),n=a(1509),h=a(4090),c=a(5861),e=a(6689),f=a(7237),C=a(9862),M=a(2014);const Z=[{path:"",component:(()=>{var i;class u{constructor(t,o,l,r,s,T,y,b){this.router=t,this.toastController=o,this.servicio=l,this.loadingController=r,this.http=s,this.alertController=T,this.navParams=y,this.storage=b,this.nu={rol:"",usuario:"",contrasenia:"",nombre:"",sexo:"",correo_electronico:"",peso:"",altura:"--",imc:"--",telefono:"",nivel:"",estatus:"",intentos:""},this.submitted=!1,this.usuario=this.navParams.get(this.usuario),this.storage.get("DatosUsuario").then(P=>{this.usuario=P,console.log("Datos del usuario en registro:",this.usuario),this.idUser=this.usuario.respuesta.idUsuario,this.sociedad=this.usuario.respuesta.sociedad,console.log("ID del usuario en registro",this.idUser),console.log("Sociedad de usuario en registro",this.sociedad)})}nuevoUsuario(t){let o={idRol:this.nu.rol,usuario:this.nu.usuario,contrasenia:this.nu.contrasenia,nombre:this.nu.nombre,sexo:this.nu.sexo,correoElectronico:this.nu.correo_electronico,peso:0,altura:0,imc:"--",telefono:this.nu.telefono,nivel:"10",estatus:1,intentos:0,sociedad:this.sociedad};this.submitted=!0,t.valid?(this.servicio.setCrear(o).subscribe(l=>{console.log(l,"SetCrear Method"),500==l.codigo?this.usuarioExistente():(this.presentLoading(),this.clearForm())}),console.log(this.nu)):this.todoslosCampos()}loadingInicio(){var t=this;return(0,c.Z)(function*(){const o=yield t.loadingController.create({cssClass:"my-custom-class",spinner:"crescent",message:"Cargando",duration:700});yield o.present(),yield o.onDidDismiss()})()}presentLoading(){var t=this;return(0,c.Z)(function*(){const o=yield t.loadingController.create({cssClass:"my-custom-class",spinner:"crescent",message:"Agregando usuario",duration:1200});yield o.present(),yield o.onDidDismiss(),t.router.navigate(["/perfil"])})()}usuarioExistente(){var t=this;return(0,c.Z)(function*(){const o=yield t.loadingController.create({cssClass:"my-custom-class",spinner:"crescent",message:"Usuario ya registrado",duration:700});yield o.present(),yield o.onDidDismiss(),t.router.navigate(["/registro"])})()}todoslosCampos(){var t=this;return(0,c.Z)(function*(){yield(yield t.alertController.create({cssClass:"my-custom-class",header:"Todos los campos son necesarios",buttons:["OK"]})).present()})()}segmentChanged(t){console.log("Segment changed",t)}ngOnInit(){this.loadingInicio()}clearForm(){this.nu.rol="",this.nu.usuario="",this.nu.contrasenia="",this.nu.nombre="",this.nu.sexo="",this.nu.correo_electronico="",this.nu.peso="",this.nu.altura="",this.nu.imc="",this.nu.telefono="",this.nu.nivel="",this.nu.estatus="",this.nu.intentos=""}}return(i=u).\u0275fac=function(t){return new(t||i)(e.Y36(h.F0),e.Y36(n.yF),e.Y36(f.r),e.Y36(n.HT),e.Y36(C.eN),e.Y36(n.Br),e.Y36(n.X1),e.Y36(M.K))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-registro"]],decls:61,vars:8,consts:[[1,"ion-no-border"],["slot","start"],["defaultHref","perfil","text","",1,"dorado"],[1,"background","animated","slow","fadeInDown","contenido",3,"fullscreen"],["novalidate",""],["guardarPerfil","ngForm"],["size-md","6","size-lg","5","size-xs","12"],["padding",""],[2,"color","gray"],["multiple","false","cancelText","Cancelar","okText","Aceptar","name","rol","type","text","required","",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["position","floating",2,"color","gray"],["name","usuario","type","text","required","",3,"ngModel","ngModelChange"],["name","contrasenia","required","",3,"ngModel","ngModelChange"],["name","nombre","type","text","required","",3,"ngModel","ngModelChange"],["lines","none"],[2,"display","flex","flex-direction","column","width","100%"],[2,"color","gray","font-size","14px","margin-top","24px","margin-bottom","5px"],["name","sexo","type","text","required","",3,"ngModel","ionChange","ngModelChange"],["value","F"],["value","M"],["name","correo_electronico","type","email","required","",3,"ngModel","ngModelChange"],["name","telefono","type","tel","required","",3,"ngModel","ngModelChange"],["type","submit","size","large","expand","block",1,"btndorado",3,"click"]],template:function(t,o){if(1&t){const l=e.EpF();e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Agregar usuario"),e.qZA(),e.TgZ(4,"ion-buttons",1),e._UZ(5,"ion-back-button",2),e.qZA()()(),e.TgZ(6,"ion-content",3)(7,"form",4,5)(9,"ion-grid")(10,"ion-row")(11,"ion-col",6)(12,"div",7)(13,"ion-item")(14,"ion-label",8),e._uU(15,"Tipo"),e.qZA(),e.TgZ(16,"ion-select",9),e.NdJ("ngModelChange",function(s){return o.nu.rol=s}),e.TgZ(17,"ion-select-option",10),e._uU(18,"Administrador"),e.qZA(),e.TgZ(19,"ion-select-option",11),e._uU(20,"Usuario"),e.qZA(),e.TgZ(21,"ion-select-option",12),e._uU(22,"Entrenador"),e.qZA()()(),e.TgZ(23,"ion-item")(24,"ion-label",13),e._uU(25," Usuario"),e.qZA(),e.TgZ(26,"ion-input",14),e.NdJ("ngModelChange",function(s){return o.nu.usuario=s}),e.qZA()(),e.TgZ(27,"ion-item")(28,"ion-label",13),e._uU(29," Contrase\xf1a"),e.qZA(),e.TgZ(30,"ion-input",15),e.NdJ("ngModelChange",function(s){return o.nu.contrasenia=s}),e.qZA()(),e.TgZ(31,"ion-item")(32,"ion-label",13),e._uU(33," Nombre"),e.qZA(),e.TgZ(34,"ion-input",16),e.NdJ("ngModelChange",function(s){return o.nu.nombre=s}),e.qZA()(),e.TgZ(35,"ion-item",17)(36,"div",18)(37,"ion-label",19),e._uU(38,"Sexo"),e.qZA(),e.TgZ(39,"div")(40,"ion-segment",20),e.NdJ("ionChange",function(s){return o.segmentChanged(s)})("ngModelChange",function(s){return o.nu.sexo=s}),e.TgZ(41,"ion-segment-button",21)(42,"ion-label"),e._uU(43,"Femenino"),e.qZA()(),e.TgZ(44,"ion-segment-button",22)(45,"ion-label"),e._uU(46,"Masculino"),e.qZA()()()()()(),e.TgZ(47,"ion-item")(48,"ion-label",13),e._uU(49," Correo electr\xf3nico"),e.qZA(),e.TgZ(50,"ion-input",23),e.NdJ("ngModelChange",function(s){return o.nu.correo_electronico=s}),e.qZA()(),e.TgZ(51,"ion-item")(52,"ion-label",13),e._uU(53," Telefono"),e.qZA(),e.TgZ(54,"ion-input",24),e.NdJ("ngModelChange",function(s){return o.nu.telefono=s}),e.qZA()()(),e._UZ(55,"br"),e.TgZ(56,"ion-row")(57,"ion-col")(58,"ion-button",25),e.NdJ("click",function(){e.CHM(l);const s=e.MAs(8);return e.KtG(o.nuevoUsuario(s))}),e._uU(59," Registrar"),e.qZA()()(),e._UZ(60,"div",7),e.qZA()()()()()}2&t&&(e.xp6(6),e.Q6J("fullscreen",!0),e.xp6(10),e.Q6J("ngModel",o.nu.rol),e.xp6(10),e.Q6J("ngModel",o.nu.usuario),e.xp6(4),e.Q6J("ngModel",o.nu.contrasenia),e.xp6(4),e.Q6J("ngModel",o.nu.nombre),e.xp6(6),e.Q6J("ngModel",o.nu.sexo),e.xp6(10),e.Q6J("ngModel",o.nu.correo_electronico),e.xp6(4),e.Q6J("ngModel",o.nu.telefono))},dependencies:[g._Y,g.JJ,g.JL,g.Q7,g.On,g.F,n.oU,n.YG,n.Sm,n.wI,n.W2,n.jY,n.Gu,n.pK,n.Ie,n.Q$,n.Nd,n.cJ,n.GO,n.t9,n.n0,n.wd,n.sr,n.QI,n.j9,n.cs],styles:["ion-title[_ngcontent-%COMP%]{text-align:center;color:#efb810}ion-toolbar[_ngcontent-%COMP%]{--background: transparent;--ion-color-base: transparent !important}ion-col[_ngcontent-%COMP%]{display:block;margin:auto}.sexo[_ngcontent-%COMP%]{font-size:14px;font-weight:400}ion-img[_ngcontent-%COMP%]{width:15%;display:block;margin:auto}"]}),u})()}];let _=(()=>{var i;class u{}return(i=u).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[h.Bz.forChild(Z),h.Bz]}),u})(),v=(()=>{var i;class u{}return(i=u).\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,g.u5,n.Pc,_]}),u})()}}]);