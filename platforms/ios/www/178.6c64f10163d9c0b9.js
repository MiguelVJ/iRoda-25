"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[178],{178:(U,p,d)=>{d.r(p),d.d(p,{EditarclasePageModule:()=>y});var m=d(6814),g=d(95),o=d(1509),u=d(4090),h=d(5861),C=d(7110),e=d(6689),_=d(7237),v=d(2014);function f(n,l){1&n&&e._UZ(0,"ion-icon",31)}function M(n,l){1&n&&e._UZ(0,"ion-icon",32)}function Z(n,l){if(1&n&&(e.TgZ(0,"ion-select-option",33),e._uU(1),e.qZA()),2&n){const c=l.$implicit;e.Q6J("value",c.idUsuario),e.xp6(1),e.hij(" ",c.nombre," ")}}const b=[{path:"",component:(()=>{var n;class l{constructor(t,a,r,s,i,E,P,J){this.servicio=t,this.storage=a,this.navParams=r,this.activatedRoute=s,this.alertController=i,this.router=E,this.navCtrl=P,this.loadingController=J,this.compania=C.if,this.ec={idClase:"",nombre:"",horaInicio:"",horaFin:"",horario:"",personas:"",profesor:"",estatus:"",dia:""},this.submitted=!1,this.usuario=this.navParams.get(this.usuario),this.storage.get("DatosUsuario").then(A=>{this.usuario=A,console.log("Datos del usuario STORAGE:",this.usuario),this.idClase=this.activatedRoute.snapshot.paramMap.get("idClase"),console.log("Id de la clase a editar",this.idClase),console.log("Nombre de la clase",this.nombre)})}ionViewWillEnter(){this.nombre=this.activatedRoute.snapshot.paramMap.get("nombre"),this.horaInicio=this.activatedRoute.snapshot.paramMap.get("horaInicio"),this.horaFin=this.activatedRoute.snapshot.paramMap.get("horaFin"),this.horario=this.activatedRoute.snapshot.paramMap.get("horario"),this.profesor=this.activatedRoute.snapshot.paramMap.get("profesor"),this.personas=this.activatedRoute.snapshot.paramMap.get("personas"),this.estatus=this.activatedRoute.snapshot.paramMap.get("estatus"),this.dia=this.activatedRoute.snapshot.paramMap.get("dia")}ngOnInit(){this.loadingInicio(),this.storage.get("DatosUsuario").then(t=>{this.usuario=t,this.sociedad=this.usuario.respuesta.sociedad,this.servicio.getData(C.T5+"Usuarios/entrenadores?sociedad="+this.sociedad).subscribe(a=>{let r=parseInt(this.profesor);this.idUs=r;let s=JSON.stringify(a),i=JSON.parse(s);this.codigo=i.codigo,console.log("Codigo del get",this.codigo),200===this.codigo?(console.log(a,"listado de entrenadores"),this.entrenadoresE=a,this.entrenadores=this.entrenadoresE.respuesta):this.errorEditar()})})}optionsFn(){console.log(this.idUs)}editarClass(t){console.log("ID de la clase editada",this.idClase),console.log("ID de la clase editada",this.idUs);let a={idClase:this.idClase,nombre:this.ec.nombre||this.nombre,horaInicio:this.ec.horaInicio||this.horaInicio,horaFin:this.ec.horaFin||this.horaFin,horario:this.ec.horario||this.horario,personas:this.ec.personas||this.personas,profesor:this.idUs||this.profesor,estatus:this.ec.estatus||this.estatus,dia:this.ec.dia||this.dia,sociedad:this.sociedad};this.submitted=!0,t.valid?(this.servicio.editarClase(a).subscribe(r=>{this.mensaje=r.mensaje,this.msjC=r.respuesta,console.log(r,"Editar clase Method "),200===r.codigo?(this.editadaCorrect(),this.navCtrl.navigateRoot("/clases")):this.errorEditar()}),console.log(this.ec)):this.todoslosCampos()}eliminarClase(){this.presentAlertConfirm()}classeliminar(){this.servicio.eliminarClase(this.idClase).subscribe(t=>{console.log(t,"Clase Eliminada"),this.mensaje=t.respuesta,200==t.codigo?(this.deleteClase(),console.log("ID de clase eliminada",this.idClase),this.navCtrl.navigateRoot("/clases")):this.deleteClase()})}loadingInicio(){var t=this;return(0,h.Z)(function*(){const a=yield t.loadingController.create({cssClass:"my-custom-class",spinner:"crescent",message:"Cargando",duration:700});yield a.present(),yield a.onDidDismiss()})()}deleteClase(){var t=this;return(0,h.Z)(function*(){yield(yield t.alertController.create({cssClass:"my-custom-class",message:t.mensaje,buttons:["OK"]})).present()})()}errorEditar(){var t=this;return(0,h.Z)(function*(){yield(yield t.alertController.create({cssClass:"my-custom-class",header:t.mensaje,buttons:["OK"]})).present()})()}editadaCorrect(){var t=this;return(0,h.Z)(function*(){yield(yield t.alertController.create({cssClass:"my-custom-class",header:t.msjC,buttons:["OK"]})).present()})()}todoslosCampos(){var t=this;return(0,h.Z)(function*(){yield(yield t.alertController.create({cssClass:"my-custom-class",header:"Todos los campos son necesarios",buttons:["OK"]})).present()})()}segmentChanged(t){console.log("Segment changed",t)}presentAlertConfirm(){var t=this;return(0,h.Z)(function*(){console.log("Seguro que desea eliminar la clase"),yield(yield t.alertController.create({cssClass:"my-custom-class",message:"Seguro que desea eliminar la clase",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:r=>{}},{text:"Aceptar",handler:()=>{t.classeliminar()}}]})).present()})()}atras(){this.navCtrl.navigateRoot("/clases")}}return(n=l).\u0275fac=function(t){return new(t||n)(e.Y36(_.r),e.Y36(v.K),e.Y36(o.X1),e.Y36(u.gz),e.Y36(o.Br),e.Y36(u.F0),e.Y36(o.SH),e.Y36(o.HT))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-editarclase"]],decls:72,vars:20,consts:[[1,"ion-no-border"],["slot","start"],["defaultHref","","text","",1,"dorado",3,"click"],["slot","end"],[3,"click"],["color","danger","name","trash-outline",4,"ngIf"],["class","rojo icon-20","slot","icon-only","name","trash",4,"ngIf"],[1,"contenido",3,"fullscreen"],["novalidate",""],["editarClase","ngForm"],["size-md","6","size-lg","5","size-xs","12"],["padding",""],["position","floating",2,"color","gray"],["name","nombre","type","text",3,"ngModel","value","ngModelChange"],["name","horaInicio","type","tel","maxlength","2",3,"ngModel","value","ngModelChange"],["name","horaFin","type","tel","maxlength","2",3,"ngModel","value","ngModelChange"],["lines","none"],[2,"display","flex","flex-direction","column","width","100%"],[2,"color","gray","font-size","14px","margin-top","16px","margin-bottom","5px"],["name","horario","type","text",3,"value","ngModel","ionChange","ngModelChange"],["value","M"],["value","V"],["name","personas","maxlength","2","type","tel",3,"ngModel","value","ngModelChange"],["name","ent",3,"ngModel","required","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["position","stacked",2,"color","gray"],["name","dia","type","date",3,"ngModel","value","ngModelChange"],["name","estatus","type","text",3,"value","ngModel","ionChange","ngModelChange"],["value","1"],["value","0"],["size","large","expand","block",1,"btndorado",3,"click"],["color","danger","name","trash-outline"],["slot","icon-only","name","trash",1,"rojo","icon-20"],[3,"value"]],template:function(t,a){if(1&t){const r=e.EpF();e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Editar Clase"),e.qZA(),e.TgZ(4,"ion-buttons",1)(5,"ion-back-button",2),e.NdJ("click",function(){return a.atras()}),e.qZA()(),e.TgZ(6,"ion-buttons",3)(7,"ion-button",4),e.NdJ("click",function(){return a.eliminarClase()}),e.YNc(8,f,1,0,"ion-icon",5),e.YNc(9,M,1,0,"ion-icon",6),e.qZA()()()(),e.TgZ(10,"ion-content",7)(11,"form",8,9)(13,"ion-grid")(14,"ion-row")(15,"ion-col",10)(16,"div",11)(17,"ion-item")(18,"ion-label",12),e._uU(19," Nombre de la clase"),e.qZA(),e.TgZ(20,"ion-input",13),e.NdJ("ngModelChange",function(i){return a.ec.nombre=i}),e.qZA()(),e.TgZ(21,"ion-item")(22,"ion-label",12),e._uU(23,"Hora inicio"),e.qZA(),e.TgZ(24,"ion-input",14),e.NdJ("ngModelChange",function(i){return a.ec.horaInicio=i}),e.qZA()(),e.TgZ(25,"ion-item")(26,"ion-label",12),e._uU(27,"Hora fin"),e.qZA(),e.TgZ(28,"ion-input",15),e.NdJ("ngModelChange",function(i){return a.ec.horaFin=i}),e.qZA()(),e.TgZ(29,"ion-item",16)(30,"div",17)(31,"ion-label",18),e._uU(32,"Horario"),e.qZA(),e.TgZ(33,"div")(34,"ion-segment",19),e.NdJ("ionChange",function(i){return a.segmentChanged(i)})("ngModelChange",function(i){return a.ec.horario=i}),e.TgZ(35,"ion-segment-button",20)(36,"ion-label"),e._uU(37,"Matutino"),e.qZA()(),e.TgZ(38,"ion-segment-button",21)(39,"ion-label"),e._uU(40,"Vespertino"),e.qZA()()()()()(),e.TgZ(41,"ion-item")(42,"ion-label",12),e._uU(43,"Personas"),e.qZA(),e.TgZ(44,"ion-input",22),e.NdJ("ngModelChange",function(i){return a.ec.personas=i}),e.qZA()(),e.TgZ(45,"ion-item")(46,"ion-label",12),e._uU(47,"Coach"),e.qZA(),e.TgZ(48,"ion-select",23),e.NdJ("ngModelChange",function(i){return a.idUs=i})("ngModelChange",function(){return a.optionsFn()}),e.YNc(49,Z,2,2,"ion-select-option",24),e.qZA()(),e.TgZ(50,"ion-item")(51,"ion-label",25),e._uU(52,"Fecha"),e.qZA(),e.TgZ(53,"ion-input",26),e.NdJ("ngModelChange",function(i){return a.ec.dia=i}),e.qZA()(),e.TgZ(54,"ion-item",16)(55,"div",17)(56,"ion-label",18),e._uU(57,"Estatus"),e.qZA(),e.TgZ(58,"div")(59,"ion-segment",27),e.NdJ("ionChange",function(i){return a.segmentChanged(i)})("ngModelChange",function(i){return a.ec.estatus=i}),e.TgZ(60,"ion-segment-button",28)(61,"ion-label"),e._uU(62,"Activado"),e.qZA()(),e.TgZ(63,"ion-segment-button",29)(64,"ion-label"),e._uU(65,"Desactivado"),e.qZA()()()()()()(),e._UZ(66,"br"),e.TgZ(67,"div")(68,"ion-row")(69,"ion-col")(70,"ion-button",30),e.NdJ("click",function(){e.CHM(r);const i=e.MAs(12);return e.KtG(a.editarClass(i))}),e._uU(71,"Editar "),e.qZA()()()()()()()()()}2&t&&(e.xp6(8),e.Q6J("ngIf","iroda"===a.compania),e.xp6(1),e.Q6J("ngIf","lua"===a.compania),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(10),e.s9C("value",a.nombre),e.Q6J("ngModel",a.ec.nombre),e.xp6(4),e.s9C("value",a.horaInicio),e.Q6J("ngModel",a.ec.horaInicio),e.xp6(4),e.s9C("value",a.horaFin),e.Q6J("ngModel",a.ec.horaFin),e.xp6(6),e.s9C("value",a.horario),e.Q6J("ngModel",a.ec.horario),e.xp6(10),e.s9C("value",a.personas),e.Q6J("ngModel",a.ec.personas),e.xp6(4),e.Q6J("ngModel",a.idUs)("required",!0),e.xp6(1),e.Q6J("ngForOf",a.entrenadores),e.xp6(4),e.s9C("value",a.dia),e.Q6J("ngModel",a.ec.dia),e.xp6(6),e.s9C("value",a.estatus),e.Q6J("ngModel",a.ec.estatus))},dependencies:[m.sg,m.O5,g._Y,g.JJ,g.JL,g.Q7,g.nD,g.On,g.F,o.oU,o.YG,o.Sm,o.wI,o.W2,o.jY,o.Gu,o.gu,o.pK,o.Ie,o.Q$,o.Nd,o.cJ,o.GO,o.t9,o.n0,o.wd,o.sr,o.QI,o.j9,o.cs],styles:["ion-col[_ngcontent-%COMP%]{display:block;margin:auto}.labelseg[_ngcontent-%COMP%]{font-size:15px;font-weight:400;color:#000}"]}),l})()}];let T=(()=>{var n;class l{}return(n=l).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.Bz.forChild(b),u.Bz]}),l})(),y=(()=>{var n;class l{}return(n=l).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.ez,g.u5,o.Pc,T]}),l})()}}]);