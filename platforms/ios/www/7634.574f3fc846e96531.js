"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7634],{7634:(M,m,a)=>{a.r(m),a.d(m,{AsuetosPageModule:()=>J});var d=a(6814),p=a(95),i=a(1509),f=a(4090),u=a(5861),h=a(8509),g=a(7110),t=a(6689),_=a(7237);function A(e,n){1&e&&t._UZ(0,"ion-icon",13)}function Z(e,n){1&e&&t._UZ(0,"ion-icon",14)}function v(e,n){1&e&&(t.TgZ(0,"ion-list",15)(1,"label"),t._uU(2," Sin asuetos"),t.qZA()())}function y(e,n){1&e&&(t.TgZ(0,"ion-item",17)(1,"ion-card",18)(2,"ion-grid")(3,"ion-row")(4,"ion-col")(5,"label"),t._UZ(6,"ion-skeleton-text",19),t.qZA()()(),t.TgZ(7,"ion-row")(8,"ion-col")(9,"label"),t._UZ(10,"ion-skeleton-text",20),t.qZA()()()()()())}const C=function(){return[1,1,1,1,1,1,1]};function T(e,n){1&e&&(t.TgZ(0,"ion-list"),t.YNc(1,y,11,0,"ion-item",16),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(1,C)))}function P(e,n){1&e&&t._UZ(0,"img",30)}function x(e,n){1&e&&t._UZ(0,"img",31)}function b(e,n){if(1&e){const l=t.EpF();t.TgZ(0,"ion-item-sliding",21)(1,"ion-item",22)(2,"ion-card",18)(3,"ion-grid")(4,"ion-row")(5,"ion-col"),t.YNc(6,P,1,0,"img",23),t.YNc(7,x,1,0,"img",24),t.TgZ(8,"label",25),t._uU(9),t.qZA()()(),t.TgZ(10,"ion-row")(11,"ion-col")(12,"label",26),t._uU(13),t.qZA()()()()()(),t.TgZ(14,"ion-item-options",27)(15,"ion-item-option",28),t.NdJ("click",function(){const r=t.CHM(l).$implicit,c=t.oxw();return t.KtG(c.confirmEliminar(r.fecha))}),t._UZ(16,"ion-icon",29),t._uU(17," Eliminar"),t.qZA()()()}if(2&e){const l=n.$implicit,o=t.oxw();t.xp6(6),t.Q6J("ngIf","iroda"===o.compania),t.xp6(1),t.Q6J("ngIf","lua"===o.compania),t.xp6(2),t.hij(" Descanso en la clase ",l.claseDescripcion," "),t.xp6(4),t.hij(" ",l.fechaDescripcion," ")}}const z=[{path:"",component:(()=>{var e;class n{constructor(o,s,r,c,N){this.navCtrl=o,this.loadingController=s,this.servicio=r,this.alertCtrl=c,this.modalCtrl=N,this.compania=g.if,this.textoBuscar=""}ngOnInit(){this.servicio.getData(g.T5+"Asuetos").subscribe(o=>{let s=JSON.stringify(o),r=JSON.parse(s);this.codigo=r.codigo,console.log("Codigo del get",this.codigo),200===this.codigo?(console.log(o,"listado de asuetos"),this.listado=o,this.listadoRespuesta=this.listado.respuesta):(this.errorAsuetos(),this.navCtrl.navigateRoot("/caladmin"))})}actualizarDatos(){this.servicio.getData(g.T5+"Asuetos").subscribe(o=>{this.listado=o})}buscarAsueto(o){if(console.log(o),this.textoBuscar=o.detail.value,!this.textoBuscar)return this.listado.respuesta=this.listadoRespuesta;this.listado.respuesta=this.listado.respuesta.filter(s=>s.fechaDescripcion.includes(this.textoBuscar))}atras(){this.navCtrl.navigateRoot("/admin")}nuevoAsueto(){console.log("Nuevo Asueto"),this.navCtrl.navigateRoot("/nuevoasueto")}eliminarAsueto(o){this.servicio.deleteAsueto(o).subscribe(s=>{this.mensajerr=s.mensaje,200===s.codigo?(this.deleteAsueto(),this.actualizarDatos()):this.errorEliminar(),console.log(s,"Eliminar Asueto")})}mostrarModal(){var o=this;return(0,u.Z)(function*(){console.log("Mostrar modal"),yield(yield o.modalCtrl.create({component:h.a})).present()})()}confirmEliminar(o){var s=this;return(0,u.Z)(function*(){yield(yield s.alertCtrl.create({cssClass:"my-custom-class",message:"Desea eliminar el asueto ?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:c=>{console.log("Boton de cancelar")}},{text:"Aceptar",handler:()=>{s.eliminarAsueto(o)}}]})).present()})()}deleteAsueto(){var o=this;return(0,u.Z)(function*(){const s=yield o.loadingController.create({cssClass:"my-custom-class",spinner:"crescent",message:"Asueto eliminado correctamente",duration:1e3});yield s.present(),yield s.dismiss()})()}errorAsuetos(){var o=this;return(0,u.Z)(function*(){yield(yield o.alertCtrl.create({cssClass:"my-custom-class",message:"Error al mostrar asuetos",buttons:["OK"]})).present()})()}errorEliminar(){var o=this;return(0,u.Z)(function*(){yield(yield o.alertCtrl.create({cssClass:"my-custom-class",message:o.mensajerr,buttons:["OK"]})).present()})()}}return(e=n).\u0275fac=function(o){return new(o||e)(t.Y36(i.SH),t.Y36(i.HT),t.Y36(_.r),t.Y36(i.Br),t.Y36(i.IN))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-asuetos"]],decls:16,vars:6,consts:[[1,"ion-no-border"],[1,"dorado"],["slot","start"],["defaultHref","","text","",1,"dorado",3,"click"],["slot","end"],[3,"click"],["class","dorado","slot","icon-only","name","add-outline",4,"ngIf"],["class","dorado icon-20","slot","icon-only","name","add",4,"ngIf"],["placeholder","Buscar","animated","","inputmode","text",3,"debounce","ionChange"],["style","text-align: center;",4,"ngIf"],[4,"ngIf"],["no-lines","",1,"animated","fast","fadeInDown"],["size","12","size-lg","3","size-md","4","size-sm","6",4,"ngFor","ngForOf"],["slot","icon-only","name","add-outline",1,"dorado"],["slot","icon-only","name","add",1,"dorado","icon-20"],[2,"text-align","center"],["id","listaslide","size","12","size-lg","3","size-md","4","size-sm","6",4,"ngFor","ngForOf"],["id","listaslide","size","12","size-lg","3","size-md","4","size-sm","6"],[2,"padding","3px"],["animated","",2,"width","60%"],["animated","",2,"width","50%"],["size","12","size-lg","3","size-md","4","size-sm","6"],["lines","none","color","gray","detail","false",1,"ion-no-padding"],["class","asuetoimg","src","assets/img/coffee-time.png",4,"ngIf"],["class","asuetoimg","src","assets/img/rest-day.png",4,"ngIf"],[2,"font-weight","bold","font-size","12px"],[2,"font-weight","bold","font-size","12px","color","rgb(187, 185, 185)"],["side","end"],["color","danger",3,"click"],["slot","top","name","trash-outline",2,"zoom","2"],["src","assets/img/coffee-time.png",1,"asuetoimg"],["src","assets/img/rest-day.png",1,"asuetoimg"]],template:function(o,s){1&o&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title",1),t._uU(3,"Asuetos"),t.qZA(),t.TgZ(4,"ion-buttons",2)(5,"ion-back-button",3),t.NdJ("click",function(){return s.atras()}),t.qZA()(),t.TgZ(6,"ion-buttons",4)(7,"ion-button",5),t.NdJ("click",function(){return s.nuevoAsueto()}),t.YNc(8,A,1,0,"ion-icon",6),t.YNc(9,Z,1,0,"ion-icon",7),t.qZA()()(),t.TgZ(10,"ion-searchbar",8),t.NdJ("ionChange",function(c){return s.buscarAsueto(c)}),t.qZA()(),t.TgZ(11,"ion-content"),t.YNc(12,v,3,0,"ion-list",9),t.YNc(13,T,2,2,"ion-list",10),t.TgZ(14,"ion-list",11),t.YNc(15,b,18,4,"ion-item-sliding",12),t.qZA()()),2&o&&(t.xp6(8),t.Q6J("ngIf","iroda"===s.compania),t.xp6(1),t.Q6J("ngIf","lua"===s.compania),t.xp6(1),t.Q6J("debounce",250),t.xp6(2),t.Q6J("ngIf",""==(null==s.listado?null:s.listado.respuesta)),t.xp6(1),t.Q6J("ngIf",null===(null==s.listado?null:s.listado.respuesta)),t.xp6(2),t.Q6J("ngForOf",null==s.listado?null:s.listado.respuesta))},dependencies:[d.sg,d.O5,i.oU,i.YG,i.Sm,i.PM,i.wI,i.W2,i.jY,i.Gu,i.gu,i.Ie,i.u8,i.IK,i.td,i.q_,i.Nd,i.VI,i.CK,i.wd,i.sr,i.j9,i.cs],styles:["ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:100%;margin:10px}ion-item[_ngcontent-%COMP%]{--padding-start: 0}.asuetoimg[_ngcontent-%COMP%]{clear:right;float:right;width:7%}"]}),n})()}];let I=(()=>{var e;class n{}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[f.Bz.forChild(z),f.Bz]}),n})(),J=(()=>{var e;class n{}return(e=n).\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,p.u5,i.Pc,I]}),n})()}}]);