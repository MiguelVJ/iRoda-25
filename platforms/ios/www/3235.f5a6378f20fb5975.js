"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3235],{3235:(F,d,r)=>{r.r(d),r.d(d,{PerfilPageModule:()=>z});var c=r(6814),f=r(95),a=r(1509),_=r(4090),g=r(5861),m=r(7110),i=r(6689),p=r(7237),P=r(393);function b(o,l){1&o&&i._UZ(0,"ion-icon",12)}function h(o,l){1&o&&i._UZ(0,"ion-icon",13)}function Z(o,l){1&o&&i._UZ(0,"ion-icon",14)}function x(o,l){1&o&&(i.TgZ(0,"ion-item",16)(1,"ion-card")(2,"ion-grid")(3,"ion-label")(4,"h2"),i._UZ(5,"ion-skeleton-text",17),i.qZA(),i.TgZ(6,"p")(7,"ion-chip"),i._UZ(8,"ion-skeleton-text",18),i.qZA()(),i.TgZ(9,"p"),i._UZ(10,"ion-skeleton-text",17),i.qZA()()()()())}const v=function(){return[1,1,1,1,1,1,1]};function T(o,l){1&o&&(i.TgZ(0,"ion-list"),i.YNc(1,x,11,0,"ion-item",15),i.qZA()),2&o&&(i.xp6(1),i.Q6J("ngForOf",i.DdM(1,v)))}function U(o,l){1&o&&(i.TgZ(0,"label",32),i._uU(1,"Admin"),i.qZA())}function A(o,l){1&o&&(i.TgZ(0,"label",33),i._uU(1,"Usuario"),i.qZA())}function I(o,l){1&o&&(i.TgZ(0,"label",34),i._uU(1,"Coach"),i.qZA())}function C(o,l){1&o&&(i.TgZ(0,"label",35),i._uU(1,"Activo"),i.qZA())}function J(o,l){1&o&&(i.TgZ(0,"label",36),i._uU(1,"Inactivo"),i.qZA())}function N(o,l){1&o&&(i.TgZ(0,"label",37),i._uU(1,"Falta de pago"),i.qZA())}function y(o,l){if(1&o&&(i.TgZ(0,"label",38),i._uU(1),i.qZA()),2&o){const e=i.oxw().$implicit;i.xp6(1),i.hij(" ",e.membresia," ")}}function M(o,l){if(1&o&&(i.TgZ(0,"ion-row")(1,"ion-col")(2,"label",39),i._uU(3),i.qZA()()()),2&o){const e=i.oxw().$implicit;i.xp6(3),i.Oqu(e.vencimiento)}}function Y(o,l){if(1&o&&(i.TgZ(0,"ion-row")(1,"ion-col")(2,"label",40),i._uU(3),i.qZA()()()),2&o){const e=i.oxw().$implicit;i.xp6(3),i.hij(" ",e.totalMultas," multas ")}}function j(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"ion-item-options",41)(1,"ion-item-option",42),i.NdJ("click",function(){i.CHM(e);const n=i.oxw().$implicit,s=i.oxw();return i.KtG(s.bPago(n.idUsuario))}),i._UZ(2,"ion-icon",43),i._uU(3," Falta de pago "),i.qZA()()}}function w(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"ion-item-options",44)(1,"ion-item-option",45),i.NdJ("click",function(){i.CHM(e);const n=i.oxw().$implicit,s=i.oxw();return i.KtG(s.activar(n.idUsuario))}),i._UZ(2,"ion-icon",46),i._uU(3," Activar "),i.qZA(),i.TgZ(4,"ion-item-option",47),i.NdJ("click",function(){i.CHM(e);const n=i.oxw().$implicit,s=i.oxw();return i.KtG(s.desactivar(n.idUsuario))}),i._UZ(5,"ion-icon",48),i._uU(6," Desactivar "),i.qZA()()}}function O(o,l){if(1&o&&(i.TgZ(0,"ion-item-sliding",19)(1,"ion-item",20)(2,"ion-card",21)(3,"ion-grid")(4,"ion-row")(5,"ion-col"),i.YNc(6,U,2,0,"label",22),i.YNc(7,A,2,0,"label",23),i.YNc(8,I,2,0,"label",24),i.TgZ(9,"label"),i._uU(10),i.qZA()()(),i.TgZ(11,"ion-row",25)(12,"ion-col"),i.YNc(13,C,2,0,"label",26),i.YNc(14,J,2,0,"label",27),i.YNc(15,N,2,0,"label",28),i.qZA()(),i.TgZ(16,"ion-row")(17,"ion-col"),i.YNc(18,y,2,1,"label",29),i.qZA()(),i.YNc(19,M,4,1,"ion-row",9),i.YNc(20,Y,4,1,"ion-row",9),i.qZA()()(),i.YNc(21,j,4,0,"ion-item-options",30),i.YNc(22,w,7,0,"ion-item-options",31),i.qZA()),2&o){const e=l.$implicit;i.xp6(1),i.H6O("href",["editarperfil/",e.idUsuario,"/",e.idRol,"/",e.usuario,"/",e.sexo,"/",e.correoElectronico,"/",e.nombre,"/",e.telefono,"/",e.contrasenia,"/",e.estatus,"/",e.totalMultas,""]),i.xp6(5),i.Q6J("ngIf",1==e.idRol),i.xp6(1),i.Q6J("ngIf",2==e.idRol),i.xp6(1),i.Q6J("ngIf",3==e.idRol),i.xp6(2),i.hij(" ",e.nombre," "),i.xp6(3),i.Q6J("ngIf",1==e.estatus),i.xp6(1),i.Q6J("ngIf",0==e.estatus),i.xp6(1),i.Q6J("ngIf",3==e.estatus),i.xp6(3),i.Q6J("ngIf",2==e.idRol),i.xp6(1),i.Q6J("ngIf",2==e.idRol&&"N/A"!=e.vencimiento),i.xp6(1),i.Q6J("ngIf",e.totalMultas>0),i.xp6(1),i.Q6J("ngIf",1!=e.idRol),i.xp6(1),i.Q6J("ngIf",1!=e.idRol)}}const Q=[{path:"",component:(()=>{var o;class l{constructor(t,n,s,u,R){this.navCtrl=t,this.servicio=n,this.actionSheetController=s,this.loadingController=u,this.alertController=R,this.compania=m.if,this.perfiles=[],this.textoBuscar=""}ngOnInit(){this.servicio.getUsuarios().subscribe(t=>{console.log(t),this.listado=t;let n=JSON.stringify(t),s=JSON.parse(n);this.mensaje=s.descripcion,200===s.codigo?console.log("Entro bien"):(this.errorCargar(),this.navCtrl.navigateRoot("/admin"))})}activar(t){this.servicio.activarUser(t).subscribe(n=>{this.mensaje=n.respuesta,this.msjError=n.descripcion,200===n.codigo?(console.log(n,"Usuario Activado"),this.userActivado(),this.obtenerDatos()):this.msjError()})}desactivar(t){this.servicio.desactivarUser(t).subscribe(n=>{this.mensaje=n.respuesta,this.msjError=n.descripcion,200===n.codigo?(console.log(n,"Usuario Desactivado"),this.userDesactivado(),this.obtenerDatos()):this.msjError()})}bPago(t){this.servicio.bloquePorPago(t).subscribe(n=>{this.mensaje=n.descripcion,this.msjError=n.descripcion,200===n.codigo?(console.log(n,"Usuario desactivado por pago"),this.userDesactivado(),this.obtenerDatos()):this.msjError()})}menuPerfil(){this.navCtrl.navigateRoot("/admin")}registro(){this.navCtrl.navigateRoot("/registro")}buscar(t){console.log(t),this.textoBuscar=t.detail.value}errorCargar(){var t=this;return(0,g.Z)(function*(){yield(yield t.alertController.create({cssClass:"my-custom-class",message:t.mensaje,buttons:["OK"]})).present()})()}userActivado(){var t=this;return(0,g.Z)(function*(){yield(yield t.alertController.create({cssClass:"my-custom-class",header:t.mensaje,buttons:["OK"]})).present()})()}userDesactivado(){var t=this;return(0,g.Z)(function*(){yield(yield t.alertController.create({cssClass:"my-custom-class",header:t.mensaje,buttons:["OK"]})).present()})()}obtenerDatos(){this.servicio.getData(m.T5+"Usuarios/").subscribe(t=>{this.listado=t})}}return(o=l).\u0275fac=function(t){return new(t||o)(i.Y36(a.SH),i.Y36(p.r),i.Y36(a.BX),i.Y36(a.HT),i.Y36(a.Br))},o.\u0275cmp=i.Xpm({type:o,selectors:[["app-perfil"]],decls:17,vars:9,consts:[["translucent","",1,"ion-no-border"],["slot","end"],[3,"click"],["class","dorado","slot","icon-only","name","person-add-outline",4,"ngIf"],["class","dorado icon-20","slot","icon-only","name","add-user-lua",4,"ngIf"],["class","dorado icon-20","slot","icon-only","name","person-add-outline",4,"ngIf"],["slot","start"],["defaultHref","","text","",1,"dorado",3,"click"],["placeholder","Buscar por usuario","animated","",3,"debounce","ionChange"],[4,"ngIf"],[1,"animated","slow","fadeInLeft"],["id","listaslide",4,"ngFor","ngForOf"],["slot","icon-only","name","person-add-outline",1,"dorado"],["slot","icon-only","name","add-user-lua",1,"dorado","icon-20"],["slot","icon-only","name","person-add-outline",1,"dorado","icon-20"],["id","listaslide","size","12","size-lg","3","size-md","4","size-sm","6",4,"ngFor","ngForOf"],["id","listaslide","size","12","size-lg","3","size-md","4","size-sm","6"],["animated","",2,"width","90%"],["animated","",2,"width","70%"],["id","listaslide"],["lines","none","color","gray","detail","false",1,"ion-no-padding",3,"href"],[2,"padding","3px"],["class","label-usuario-a",4,"ngIf"],["class","label-usuario",4,"ngIf"],["class","label-usuario-c",4,"ngIf"],[2,"margin-top","1px"],["class","label-activo",4,"ngIf"],["class","label-inactivo",4,"ngIf"],["class","label-faltapago",4,"ngIf"],["class","lvencimiento",4,"ngIf"],["side","start",4,"ngIf"],["side","end",4,"ngIf"],[1,"label-usuario-a"],[1,"label-usuario"],[1,"label-usuario-c"],[1,"label-activo"],[1,"label-inactivo"],[1,"label-faltapago"],[1,"lvencimiento"],[1,"label-membresiavenc"],[1,"multas"],["side","start"],["color","warning",3,"click"],["slot","top","name","alert-circle-outline",2,"zoom","2"],["side","end"],["color","success",3,"click"],["slot","top","name","checkmark-circle-outline",2,"zoom","2"],["color","danger",3,"click"],["slot","top","name","close-circle-outline",2,"zoom","2"]],template:function(t,n){1&t&&(i.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),i._uU(3,"Perfiles"),i.qZA(),i.TgZ(4,"ion-buttons",1)(5,"ion-button",2),i.NdJ("click",function(){return n.registro()}),i.YNc(6,b,1,0,"ion-icon",3),i.YNc(7,h,1,0,"ion-icon",4),i.YNc(8,Z,1,0,"ion-icon",5),i.qZA()(),i.TgZ(9,"ion-buttons",6)(10,"ion-back-button",7),i.NdJ("click",function(){return n.menuPerfil()}),i.qZA()()(),i.TgZ(11,"ion-searchbar",8),i.NdJ("ionChange",function(u){return n.buscar(u)}),i.qZA()(),i.TgZ(12,"ion-content"),i.YNc(13,T,2,2,"ion-list",9),i.TgZ(14,"ion-list",10),i.YNc(15,O,23,22,"ion-item-sliding",11),i.ALo(16,"filtro"),i.qZA()()),2&t&&(i.xp6(6),i.Q6J("ngIf","iroda"===n.compania),i.xp6(1),i.Q6J("ngIf","lua"===n.compania),i.xp6(1),i.Q6J("ngIf","iroda"!==n.compania&&"lua"!==n.compania),i.xp6(3),i.Q6J("debounce",250),i.xp6(2),i.Q6J("ngIf",null===(null==n.listado?null:n.listado.respuesta)),i.xp6(2),i.Q6J("ngForOf",i.xi3(16,6,null==n.listado?null:n.listado.respuesta,n.textoBuscar)))},dependencies:[c.sg,c.O5,a.oU,a.YG,a.Sm,a.PM,a.hM,a.wI,a.W2,a.jY,a.Gu,a.gu,a.Ie,a.u8,a.IK,a.td,a.Q$,a.q_,a.Nd,a.VI,a.CK,a.wd,a.sr,a.j9,a.cs,P.m],styles:["ion-card-title[_ngcontent-%COMP%]{text-align:center}ion-content[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:100%;margin:10px}.image-center[_ngcontent-%COMP%]{margin:0 auto;width:100%!important;height:100%!important;max-width:100px!important;max-height:100px!important}.lvencimiento[_ngcontent-%COMP%]{color:gray;font-size:12px;margin-left:3px}ion-item[_ngcontent-%COMP%]{--padding-start: 0}ion-c-status[_ngcontent-%COMP%]{background:red}.label-membresiavenc[_ngcontent-%COMP%]{background-color:#f7e5fb;padding:2px 10px;color:#bd0fe1;border-radius:15px;font-size:12px}"]}),l})()}];let q=(()=>{var o;class l{}return(o=l).\u0275fac=function(t){return new(t||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[_.Bz.forChild(Q),_.Bz]}),l})();var k=r(2898);let z=(()=>{var o;class l{}return(o=l).\u0275fac=function(t){return new(t||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[c.ez,f.u5,a.Pc,q,k.D]}),l})()}}]);